{"formId":"mapGMIS","name":"Map GMIS","json":"{\"className\":\"org.joget.apps.form.model.Form\",\"properties\":{\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\"},\"name\":\"Map GMIS\",\"description\":\"\",\"id\":\"mapGMIS\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\"},\"tableName\":\"dgr_gmis\"},\"elements\":[{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.CustomHTML\",\"properties\":{\"autoPopulate\":\"\",\"label\":\"\",\"id\":\"scriptMap\",\"value\":\"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-12 p-0\\\" id=\\\"LongdoMap\\\" style=\\\"height:500px;\\\"><\\/div>\\r\\n<\\/div>\\r\\n\\r\\n<script type=\\\"text\\/javascript\\\" src=\\\"https:\\/\\/api.longdo.com\\/map\\/?key=74917ba86d3560738f9fc69ef87024c6\\\"><\\/script>\\r\\n<script>\\r\\n\\r\\n$(document).ready(function(){\\r\\n  \\/\\/ initLongdoMap();\\r\\n  init();\\r\\n});\\r\\n\\r\\n  var map;\\r\\n  function init() {\\r\\n\\r\\n    map = new longdo.Map({\\r\\n      placeholder: document.getElementById('LongdoMap')\\r\\n    });\\r\\n    var uluru = {lon:100.571307, lat:13.840791};\\r\\n    map.location( uluru , true);\\r\\n    map.zoom(6, true);\\r\\n\\r\\n\\r\\n      var detailPlant = '<p>กรมทรัพยากรน้ำบาดาล แขวงลาดยาว เขตจตุจักร กรุงเทพมหานคร 10900<\\/p>';\\r\\n  \\r\\n    var marker = new longdo.Marker(\\r\\n       { lon:100.571307, lat:13.840791 },\\r\\n        {\\r\\n          title: '<a href=\\\"http:\\/\\/www.dgr.go.th\\/\\\">กรมทรัพยากรน้ำบาดาล<\\/a>',\\r\\n          detail: detailPlant,\\r\\n        }\\r\\n      );\\r\\n      map.Overlays.add(marker);\\r\\n\\r\\n\\r\\n  }\\r\\n\\r\\n  function initLongdoMap() {\\r\\n\\r\\n    var uluru = {lon:100.571307, lat:13.840791};\\r\\n    \\/\\/ var locations = {!! @$locals !!};\\r\\n\\r\\n    console.log('locations',locations);\\r\\n    \\r\\n    map = new longdo.Map({\\r\\n      placeholder: document.getElementById('LongdoMap')\\r\\n    });\\r\\n    map.location( uluru , true);\\r\\n    map.zoom(6, true);\\r\\n\\r\\n    \\/\\/ for (i = 0; i < locations.length; i++) {\\r\\n\\r\\n      \\r\\n    \\/\\/   \\/\\/Check Value\\r\\n    \\/\\/   locations[i][\\\"phone\\\"] = locations[i][\\\"phone\\\"]? '<a href=\\\"tel:' + locations[i][\\\"phone\\\"] + '\\\">'+locations[i][\\\"phone\\\"]+'<\\/a>' : '-'\\r\\n    \\/\\/   locations[i][\\\"line\\\"] = locations[i][\\\"line\\\"]? locations[i][\\\"line\\\"] : '-'\\r\\n    \\/\\/   locations[i][\\\"inbox\\\"] = locations[i][\\\"inbox\\\"]? locations[i][\\\"inbox\\\"] : '-'\\r\\n\\r\\n    \\/\\/   var detailPlant = '<p>ปุ๋ยตรา' + locations[i][\\\"brand_name\\\"] + \\r\\n    \\/\\/     '<br>&nbsp&nbsp&nbsp&nbsp&nbsp' + locations[i][\\\"description\\\"] +\\r\\n    \\/\\/     '<br>ช่องทางการติดต่อ' + \\r\\n    \\/\\/     '<br>&nbsp&nbsp&nbsp&nbsp&nbspโทร&nbsp' + locations[i][\\\"phone\\\"] +\\r\\n    \\/\\/     '<br>&nbsp&nbsp&nbsp&nbsp&nbspLine&nbsp' + locations[i][\\\"line\\\"] +\\r\\n    \\/\\/     '<br>&nbsp&nbsp&nbsp&nbsp&nbspInbox&nbsp' + locations[i][\\\"inbox\\\"]\\r\\n    \\/\\/     ;\\r\\n\\r\\n    \\/\\/   var marker = new longdo.Marker(\\r\\n    \\/\\/     { lon: locations[i][\\\"longtitude\\\"], lat: locations[i][\\\"latitude\\\"] },\\r\\n    \\/\\/     {\\r\\n    \\/\\/       title: '<a href=\\\"{{url('factory')}}\\/'+locations[i][\\\"url_name\\\"]+'\\\">โรงงาน'+locations[i][\\\"shortname\\\"]+'<\\/a>',\\r\\n    \\/\\/       icon: { url: icon_dot },\\r\\n    \\/\\/       \\/\\/ detail: '<a href=\\\"{{url('factory')}}\\/'+locations[i][\\\"id\\\"]+'\\\">ข้อมูลโรงงาน<\\/a>',\\r\\n    \\/\\/       detail: detailPlant,\\r\\n    \\/\\/     }\\r\\n    \\/\\/   );\\r\\n    \\/\\/   map.Overlays.add(marker);\\r\\n\\r\\n    \\/\\/ }\\r\\n    \\r\\n  }\\r\\n<\\/script>\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"label\":\"Section\",\"id\":\"section1\"}}]}","dateModified":"2020-05-14 10:56:25"}
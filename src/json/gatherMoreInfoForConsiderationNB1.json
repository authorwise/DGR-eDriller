{"formId":"gatherMoreInfoForConsiderationNB1","name":"[นบ.1] รวมรวบข้อมูลเพิ่มเติมสำหรับการพิจารณาคำขอรับใบอนุญาต","json":"{\"className\":\"org.joget.apps.form.model.Form\",\"properties\":{\"noPermissionMessage\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"name\":\"[นบ.1] รวมรวบข้อมูลเพิ่มเติมสำหรับการพิจารณาคำขอรับใบอนุญาต\",\"description\":\"\",\"postProcessorRunOn\":\"both\",\"permission\":{\"className\":\"\",\"properties\":{}},\"id\":\"gatherMoreInfoForConsiderationNB1\",\"postProcessor\":{\"className\":\"org.joget.apps.app.lib.DatabaseUpdateTool\",\"properties\":{\"query\":\"INSERT INTO `app_fd_dgr_regis_license_a`\\r\\n(`id`,\\r\\n`dateCreated`,\\r\\n`dateModified`,\\r\\n`createdBy`,\\r\\n`createdByName`,\\r\\n`modifiedBy`,\\r\\n`modifiedByName`,\\r\\n`c_approver`,\\r\\n`c_approval_date`,\\r\\n`c_parent_id`,\\r\\n`c_remarks`,\\r\\n`c_status`,\\r\\n`c_activityID`,\\r\\n`c_activityDefID`,\\r\\n`c_processID`,\\r\\n`c_activityName`)\\r\\nVALUES\\r\\n(uuid(),\\r\\nnow(),\\r\\nnow(),\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\nnow(),\\r\\n\\\"#form.dgr_regis_license.id#\\\",\\r\\n\\\"#form.dgr_regis_license.remarks#\\\",\\r\\n\\\"#form.dgr_regis_license.status#\\\",\\r\\n\\\"#assignment.activityId#\\\",\\r\\n\\\"#assignment.activityDefId#\\\",\\r\\n\\\"#assignment.processId#\\\",\\r\\n\\\"#assignment.activityName#\\\");\",\"jdbcDatasource\":\"default\"}},\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"tableName\":\"dgr_regis_license\"},\"elements\":[{\"elements\":[{\"elements\":[{\"className\":\"org.joget.plugin.enterprise.MultiPagedForm\",\"properties\":{\"prevButtonlabel\":\"Prev\",\"css\":\"\",\"storeMainFormOnPartiallyStore\":\"\",\"nextButtonlabel\":\"Next\",\"partiallyStore\":\"\",\"id\":\"checkMoreInfoConsider\",\"onlyAllowSubmitOnLastPage\":\"\",\"numberOfPage\":{\"className\":\"2\",\"properties\":{\"page1_subFormParentId\":\"\",\"page1_formDefId\":\"nb1Signature3ForReview\",\"page2_readonly\":\"true\",\"page2_label\":\"บันทึกการตรวจสอบ\",\"page1_validate\":\"\",\"page1_readonly\":\"true\",\"page2_parentSubFormId\":\"id\",\"page2_subFormParentId\":\"\",\"page1_label\":\"นบ.1 คำขอรับใบอนุญาตเจาะน้ำบาดาลหรือใช้น้ำบาดาล\",\"page1_readonlyLabel\":\"\",\"page1_parentSubFormId\":\"id\",\"page2_validate\":\"\",\"page2_formDefId\":\"inspectionRecord\",\"page2_readonlyLabel\":\"\"}},\"displayMode\":\"tab\",\"ajaxMode\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section1\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.CheckBox\",\"properties\":{\"permissionHidden\":\"\",\"controlField\":\"\",\"readonly\":\"true\",\"optionsBinder\":{\"className\":\"\",\"properties\":{}},\"options\":[{\"label\":\"เห็นควร\",\"value\":\"ข้อมูลไม่เพียงพอ\",\"grouping\":\"\"}],\"validator\":{\"className\":\"\",\"properties\":{}},\"workflowVariable\":\"risk\",\"id\":\"risk\",\"label\":\"ลงตรวจสอบสถานที่ เนื่องจากข้อมูลในการพิจารณาไม่เพียงพอ\",\"value\":\"\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.CustomHTML\",\"properties\":{\"autoPopulate\":\"\",\"id\":\"htmlScript\",\"label\":\"\",\"value\":\"<script>\\r\\n    $(document).ready(function(){\\r\\n        \\r\\n        var diameter = \\\"#form.dgr_regis_license.wellSize#\\\";\\r\\n        if(parseInt(diameter)>=200){\\r\\n            $(\\\"input[name$='risk']\\\").prop('checked', true);\\r\\n            $(\\\"input[name$='risk']\\\").prop('disabled',true);\\r\\n            $( \\\"#riskAlert\\\" ).html( \\\"<label class='label'>&nbsp;<\\/label><div class='form-cell-value'><i>คำขอรับใบอนุญาตเจาะน้ำบาดาลหรือใช้น้ำบาดาลที่มีขนาดเส้นผ่าศูนย์กลางของท่อกรุบ่อตอนบนสุดตั้งแต่ 200 มิลลิเมตร ขึ้นไป ให้พนักงานน้ำบาดาลประจำท้องที่หรือเจ้าหน้าที่ที่ได้รับมอบหมายจากพนักงานน้ำบาดาลประจำท้องที่ ดำเนินการตรวจสอบสถานที่และบันทึกข้อมูลลงในบันทึกการตรวจสอบ (แบบ ต.1)<\\/i><\\/div>\\\" );    \\r\\n        }\\r\\n    });\\r\\n    \\r\\n<\\/script>\\r\\n<div id=\\\"riskAlert\\\"><\\/div>\"}},{\"className\":\"org.joget.apps.form.lib.CustomHTML\",\"properties\":{\"autoPopulate\":\"\",\"id\":\"htmlLinkGMIS\",\"label\":\"\",\"value\":\"<script>\\r\\n    $(document).ready(function() {\\r\\n        \\/\\/ var value = FormUtil.getValue(\\\"linkUrl\\\");\\r\\n        \\/\\/ console.log(\\\"Test\\\" , value);    \\r\\n        var link = \\\"http:\\/\\/gmis.longdo.com\\/home\\\";\\r\\n        var textBotton = \\\"แผนที่ GMIS\\\";\\r\\n        if(link){\\r\\n            $( \\\"#openLink\\\" ).append( \\\"<a href='\\\"+ link +\\\"' class='btn button waves-effect btn waves-button waves-float' target='_blank' >\\\" + textBotton + \\\"<\\/a>\\\" );    \\r\\n        }\\r\\n    });\\r\\n<\\/script>\\r\\n<div id=\\\"openLink\\\" style=\\\"padding:10px 0px;\\\"><\\/div>\"}},{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"formDefId\":\"consider\",\"noframe\":\"true\",\"subFormParentId\":\"parentID\",\"id\":\"subConsider\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.Radio\",\"properties\":{\"controlField\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"\",\"properties\":{}},\"options\":[{\"label\":\"ส่งข้อมูลสำหรับการพิจารณา\",\"value\":\"Submit info for consideration\",\"grouping\":\"\"},{\"label\":\"#envVariable.moreInfoText#\",\"value\":\"#envVariable.moreInfo#\",\"grouping\":\"\"}],\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"workflowVariable\":\"status\",\"id\":\"status\",\"label\":\"\",\"value\":\"\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.TextArea\",\"properties\":{\"readonly\":\"\",\"validator\":{\"className\":\"\",\"properties\":{}},\"workflowVariable\":\"\",\"label\":\"หมายเหตุ\",\"id\":\"remarks\",\"placeholder\":\"\",\"rows\":\"5\",\"cols\":\"20\",\"value\":\"\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.CustomHTML\",\"properties\":{\"autoPopulate\":\"\",\"id\":\"htmlScript\",\"label\":\"\",\"value\":\"<script>\\r\\n    $(document).ready(function() {\\r\\n        var comment = $(\\\"textarea[name$='remarks']\\\").val(\\\"\\\");\\r\\n    });  \\r\\n<\\/script>\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"รวมรวบข้อมูลเพิ่มเติมสำหรับการพิจารณาคำขอรับใบอนุญาต\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section2\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"id\":\"subAnswer\",\"label\":\"#envVariable.answerInfoText#\",\"formDefId\":\"answer\",\"readonly\":\"\",\"readonlyLabel\":\"\",\"noframe\":\"\",\"parentSubFormId\":\"\",\"subFormParentId\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"jdbcDatasource\":\"default\",\"sql\":\"SELECT `id` AS `id`\\n,`c_activityID` AS `activityID`\\n,`c_question` AS `question`\\n,`c_questioner` AS `questioner`\\n,`c_questionerName` AS `questionerName`\\nFROM `app_fd_dgr_qa`\\nWHERE `c_parentID` = \\\"#process.recordId#\\\"\\nAND `c_status` = \\\"q\\\"\\nORDER BY `dateCreated` DESC\\nLIMIT 1\",\"autoHandleWorkflowVariable\":\"true\",\"autoHandleFiles\":\"\"}},\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}}}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"status\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"Submit info for consideration\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section3\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"subQuestion\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"formDefId\":\"question\",\"noframe\":\"\",\"subFormParentId\":\"parentID\",\"id\":\"subQuestion\",\"label\":\"#envVariable.moreInfoText#\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"status\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"#envVariable.moreInfo#\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section4\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"\",\"permissionHidden\":\"\",\"readonly\":\"true\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"noframe\":\"true\",\"formDefId\":\"trailForStaffNB1\",\"subFormParentId\":\"\",\"label\":\"\",\"id\":\"trail\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"true\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"elementUniqueKey\":\"5025\",\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section5\",\"join\":\"\",\"readonlyLabel\":\"\"}}]}","dateModified":"2020-05-14 10:56:25"}
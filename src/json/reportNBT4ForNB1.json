{"formId":"reportNBT4ForNB1","name":"[นบ.1] ส่งรายงานแบบ นบ./4","json":"{\"className\":\"org.joget.apps.form.model.Form\",\"properties\":{\"noPermissionMessage\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"name\":\"[นบ.1] ส่งรายงานแบบ นบ.\\/4\",\"description\":\"\",\"postProcessorRunOn\":\"both\",\"permission\":{\"className\":\"\",\"properties\":{}},\"id\":\"reportNBT4ForNB1\",\"postProcessor\":{\"className\":\"org.joget.apps.app.lib.DatabaseUpdateTool\",\"properties\":{\"query\":\"INSERT INTO `app_fd_dgr_regis_license_a`\\r\\n(`id`,\\r\\n`dateCreated`,\\r\\n`dateModified`,\\r\\n`createdBy`,\\r\\n`createdByName`,\\r\\n`modifiedBy`,\\r\\n`modifiedByName`,\\r\\n`c_approver`,\\r\\n`c_approval_date`,\\r\\n`c_parent_id`,\\r\\n`c_remarks`,\\r\\n`c_status`,\\r\\n`c_activityID`,\\r\\n`c_activityDefID`,\\r\\n`c_processID`,\\r\\n`c_activityName`)\\r\\nVALUES\\r\\n(uuid(),\\r\\nnow(),\\r\\nnow(),\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\nnow(),\\r\\n\\\"#form.dgr_regis_license.id#\\\",\\r\\n\\\"#form.dgr_regis_license.remarks#\\\",\\r\\n\\\"#form.dgr_regis_license.status#\\\",\\r\\n\\\"#assignment.activityId#\\\",\\r\\n\\\"#assignment.activityDefId#\\\",\\r\\n\\\"#assignment.processId#\\\",\\r\\n\\\"#assignment.activityName#\\\");\",\"jdbcDatasource\":\"default\"}},\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"tableName\":\"dgr_regis_license\"},\"elements\":[{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"status\",\"id\":\"status\",\"value\":\"Reporting\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"\",\"id\":\"remarks\",\"value\":\"ส่งรายงานแบบ นบ.\\/4\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section2\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"id\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"jdbcDatasource\":\"default\",\"sql\":\"SELECT \\nc.c_drillLicenseNo\\n,c.c_wellNo\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_licenseNameReq\\n    ELSE a.c_drillLicenseeFullname\\nEND AS licenseNameReq\\n,c.c_licenseAddressNo\\n,c.c_licenseMoo\\n,c.c_licenseSoi\\n,c.c_licenseStreet\\n,c.c_licenseTambon\\n,c.c_licenseAmphoe\\n,c.c_licenseProvince\\n,c.c_licensePostalCode\\n,c.c_licensePhoneNumber\\n,c.c_wellAddressNo\\n,c.c_wellMoo\\n,c.c_wellSoi\\n,c.c_wellStreet\\n,c.c_wellTambon\\n,c.c_wellAmphoe\\n,c.c_wellProvince\\n,c.c_wellPostalCode\\n,c.c_comDrillerName\\n,c.c_comDrillerAddressNo\\n,c.c_comDrillerMoo\\n,c.c_comDrillerSoi\\n,c.c_comDrillerStreet\\n,c.c_comDrillerTambon\\n,c.c_comDrillerAmphoe\\n,c.c_comDrillerProvince\\n,c.c_comDrillerPostalCode\\n,c.c_comDrillerPhoneNumber\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_gwDrillerName\\n    ELSE b.c_gwDrillerName\\nEND AS gwDrillerName\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_gwDrillerID\\n    ELSE b.c_gwDrillerID\\nEND AS gwDrillerID\\n,c.c_gwDrillerAddressNo\\n,c.c_gwDrillerMoo\\n,c.c_gwDrillerSoi\\n,c.c_gwDrillerStreet\\n,c.c_gwDrillerTambon\\n,c.c_gwDrillerAmphoe\\n,c.c_gwDrillerProvince\\n,c.c_gwDrillerPostalCode\\n,c.c_gwDrillerPhoneNumber\\nFROM app_fd_dgr_regis_license AS a\\nINNER JOIN app_fd_dgr_date_drill AS b\\nON a.id = b.c_parentID\\nINNER JOIN app_fd_dgr_nbt345 AS c\\nON a.id = b.id\\nWHERE a.id = \\\"#process.recordId#\\\"\",\"autoHandleFiles\":\"\"}},\"formDefId\":\"reportNBT345\",\"noframe\":\"true\",\"subFormParentId\":\"\",\"id\":\"infoReportNBT345\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section5\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"id\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"jdbcDatasource\":\"default\",\"sql\":\"SELECT \\nc.c_drillLicenseNo\\n,c.c_wellNo\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_licenseNameReq\\n    ELSE a.c_drillLicenseeFullname\\nEND AS licenseNameReq\\n,c.c_licenseAddressNo\\n,c.c_licenseMoo\\n,c.c_licenseSoi\\n,c.c_licenseStreet\\n,c.c_licenseTambon\\n,c.c_licenseAmphoe\\n,c.c_licenseProvince\\n,c.c_licensePostalCode\\n,c.c_licensePhoneNumber\\n,c.c_wellAddressNo\\n,c.c_wellMoo\\n,c.c_wellSoi\\n,c.c_wellStreet\\n,c.c_wellTambon\\n,c.c_wellAmphoe\\n,c.c_wellProvince\\n,c.c_wellPostalCode\\n,c.c_comDrillerName\\n,c.c_comDrillerAddressNo\\n,c.c_comDrillerMoo\\n,c.c_comDrillerSoi\\n,c.c_comDrillerStreet\\n,c.c_comDrillerTambon\\n,c.c_comDrillerAmphoe\\n,c.c_comDrillerProvince\\n,c.c_comDrillerPostalCode\\n,c.c_comDrillerPhoneNumber\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_gwDrillerName\\n    ELSE b.c_gwDrillerName\\nEND AS gwDrillerName\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_gwDrillerID\\n    ELSE b.c_gwDrillerID\\nEND AS gwDrillerID\\n,c.c_gwDrillerAddressNo\\n,c.c_gwDrillerMoo\\n,c.c_gwDrillerSoi\\n,c.c_gwDrillerStreet\\n,c.c_gwDrillerTambon\\n,c.c_gwDrillerAmphoe\\n,c.c_gwDrillerProvince\\n,c.c_gwDrillerPostalCode\\n,c.c_gwDrillerPhoneNumber\\nFROM app_fd_dgr_regis_license AS a\\nINNER JOIN app_fd_dgr_date_drill AS b\\nON a.id = b.c_parentID\\nINNER JOIN app_fd_dgr_nbt345 AS c\\nON a.id = b.id\\nWHERE a.id = \\\"#process.recordId#\\\"\",\"autoHandleFiles\":\"\"}},\"formDefId\":\"reportNBT4Part\",\"noframe\":\"true\",\"subFormParentId\":\"\",\"id\":\"infoReportNBT345\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section5\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"id\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"formDefId\":\"reportNBT4Part\",\"noframe\":\"true\",\"subFormParentId\":\"\",\"id\":\"subNBT4\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section2\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"id\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"jdbcDatasource\":\"default\",\"sql\":\"SELECT \\r\\nc.c_licenseSignature\\r\\n,CASE\\r\\n    WHEN c.id <> \\\"\\\" THEN c.c_licenseName\\r\\n    ELSE a.c_drillLicenseeFullname\\r\\nEND AS licenseName\\r\\n,c.c_gwDrillerSignature\\r\\n,c.c_gwDrillerNameDis\\r\\n,c.c_geologistSignature\\r\\n,c.c_geologistName\\r\\nFROM app_fd_dgr_regis_license AS a\\r\\nINNER JOIN app_fd_dgr_date_drill AS b\\r\\nON a.id = b.c_parentID\\r\\nINNER JOIN app_fd_dgr_nbt345 AS c\\r\\nON a.id = b.id\\r\\nWHERE a.id = \\\"#process.recordId#\\\"\\r\\n\",\"autoHandleFiles\":\"\"}},\"formDefId\":\"reportNBT345Signature\",\"noframe\":\"true\",\"subFormParentId\":\"\",\"id\":\"signatureReportNBT345\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section6\",\"join\":\"\",\"readonlyLabel\":\"\"}}]}","dateModified":"2020-05-14 10:56:33"}
{"formId":"editRegistrationFormNBT22","name":"[นบ./22] แก้ไขคำขอหรือ ยื่นเอกสารเพิ่มเติม","json":"{\"className\":\"org.joget.apps.form.model.Form\",\"properties\":{\"noPermissionMessage\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"name\":\"[นบ.\\/22] แก้ไขคำขอหรือ ยื่นเอกสารเพิ่มเติม\",\"description\":\"\",\"postProcessorRunOn\":\"update\",\"permission\":{\"className\":\"\",\"properties\":{}},\"id\":\"editRegistrationFormNBT22\",\"postProcessor\":{\"className\":\"org.joget.apps.app.lib.DatabaseUpdateTool\",\"properties\":{\"query\":\"INSERT INTO `app_fd_dgr_reg_disaster_a`\\r\\n(`id`,\\r\\n`dateCreated`,\\r\\n`dateModified`,\\r\\n`createdBy`,\\r\\n`createdByName`,\\r\\n`modifiedBy`,\\r\\n`modifiedByName`,\\r\\n`c_approver`,\\r\\n`c_approval_date`,\\r\\n`c_parent_id`,\\r\\n`c_remarks`,\\r\\n`c_status`,\\r\\n`c_activityID`,\\r\\n`c_activityDefID`,\\r\\n`c_processID`,\\r\\n`c_activityName`)\\r\\nVALUES\\r\\n(uuid(),\\r\\nnow(),\\r\\nnow(),\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\nnow(),\\r\\n\\\"#form.app_fd_dgr_reg_disaster.id#\\\",\\r\\n\\\"\\\",\\r\\n\\\"Edit request form\\\",\\r\\n\\\"#assignment.activityId#\\\",\\r\\n\\\"#assignment.activityDefId#\\\",\\r\\n\\\"#assignment.processId#\\\",\\r\\n\\\"#assignment.activityName#\\\");\",\"jdbcDatasource\":\"default\"}},\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"tableName\":\"dgr_reg_disaster\"},\"elements\":[{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"formDefId\":\"registerNaturaldisaster\",\"noframe\":\"true\",\"subFormParentId\":\"\",\"id\":\"field1\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"แก้ไขคำขอหรือ ยื่นเอกสารเพิ่มเติม\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section1\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.plugin.enterprise.FormGrid\",\"properties\":{\"id\":\"approvalTrail\",\"label\":\"\",\"formDefId\":\"approvalActionNBT22\",\"options\":[{\"value\":\"approver\",\"label\":\"ผู้อนุมัติ\",\"formatType\":\"text\",\"format\":\"\",\"width\":\"\"},{\"value\":\"activityName\",\"label\":\"ขั้นตอน\",\"formatType\":\"text\",\"format\":\"\",\"width\":\"\"},{\"value\":\"remarks\",\"label\":\"หมายเหตุ\",\"formatType\":\"html\",\"format\":\"\",\"width\":\"\"},{\"value\":\"status\",\"label\":\"สถานะ\",\"formatType\":\"html\",\"format\":\"\",\"width\":\"\"},{\"value\":\"approval_date\",\"label\":\"วันที่\",\"formatType\":\"text\",\"format\":\"\",\"width\":\"\"}],\"enableSorting\":\"\",\"submit-label-normal\":\"Submit\",\"submit-label-readonly\":\"Close\",\"readonlyLabel\":\"true\",\"height\":\"500\",\"width\":\"900\",\"readonly\":\"true\",\"disabledAdd\":\"true\",\"disabledDelete\":\"true\",\"deleteMessage\":\"\",\"showRowNumber\":\"\",\"pageSize\":\"\",\"validator\":{\"className\":\"\",\"properties\":{}},\"uniqueKey\":\"\",\"validateMinRow\":\"\",\"validateMaxRow\":\"\",\"errorMessage\":\"Invalid number of rows.\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"jdbcDatasource\":\"default\",\"sql\":\"SELECT c_approver as approver\\n,c_activityName as activityName\\n,c_remarks as remarks\\n,c_approval_date as approval_date\\n,st.c_titleStatus as status\\nFROM app_fd_dgr_reg_disaster_a ac\\nleft join app_fd_dgr_mt_status st on ac.c_status = st.c_status   \\n where c_parent_id = \\\"#process.recordId#\\\"\\n and st.c_flowName = \\\"nbt22\\\"\\n order by ac.dateModified desc\\n LIMIT  1\",\"autoHandleWorkflowVariable\":\"true\",\"autoHandleFiles\":\"\"}},\"storeBinder\":{\"className\":\"org.joget.plugin.enterprise.MultirowFormBinder\",\"properties\":{\"formDefId\":\"approvalActionNBT22\",\"foreignKey\":\"parent_id\"}},\"deleteGridData\":\"\",\"deleteSubformData\":\"\",\"deleteFiles\":\"\",\"abortRelatedRunningProcesses\":\"\",\"permissionHidden\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"elementUniqueKey\":\"5025\",\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"ประวัติการดำเนินงาน\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"jdbcDatasource\":\"default\",\"sql\":\"select 'c_approver' as 'approver'\\n,'c_activityName' as 'activityName'\\n,'c_remarks' as 'remarks'\\n,'c_status' as 'status' \\n,'c_approval_date' as 'approval_date'\\nfrom jwdb.app_fd_dgr_req_transfer_a \\nwhere c_parent_id = \\\"#process.recordId#\\\"\\norder by dateModified desc\\nLIMIT  1\",\"autoHandleFiles\":\"\"}},\"comment\":\"\",\"id\":\"section2_1\",\"join\":\"\",\"readonlyLabel\":\"\"}}]}","dateModified":"2020-05-14 10:56:25"}
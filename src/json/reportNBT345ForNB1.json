{"formId":"reportNBT345ForNB1","name":"[นบ.1] รายงาน นบ./3 นบ./4 นบ./5 (ช่างเจาะ)","json":"{\"className\":\"org.joget.apps.form.model.Form\",\"properties\":{\"noPermissionMessage\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"name\":\"[นบ.1] รายงาน นบ.\\/3 นบ.\\/4 นบ.\\/5 (ช่างเจาะ)\",\"description\":\"\",\"postProcessorRunOn\":\"both\",\"permission\":{\"className\":\"\",\"properties\":{}},\"id\":\"reportNBT345ForNB1\",\"postProcessor\":{\"className\":\"org.joget.apps.app.lib.DatabaseUpdateTool\",\"properties\":{\"query\":\"INSERT INTO `app_fd_dgr_regis_license_a`\\r\\n(`id`,\\r\\n`dateCreated`,\\r\\n`dateModified`,\\r\\n`createdBy`,\\r\\n`createdByName`,\\r\\n`modifiedBy`,\\r\\n`modifiedByName`,\\r\\n`c_approver`,\\r\\n`c_approval_date`,\\r\\n`c_parent_id`,\\r\\n`c_remarks`,\\r\\n`c_status`,\\r\\n`c_activityID`,\\r\\n`c_activityDefID`,\\r\\n`c_processID`,\\r\\n`c_activityName`)\\r\\nVALUES\\r\\n(uuid(),\\r\\nnow(),\\r\\nnow(),\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\nnow(),\\r\\n\\\"#form.dgr_regis_license.id#\\\",\\r\\n\\\"#form.dgr_regis_license.remarks#\\\",\\r\\n\\\"#form.dgr_regis_license.status#\\\",\\r\\n\\\"#assignment.activityId#\\\",\\r\\n\\\"#assignment.activityDefId#\\\",\\r\\n\\\"#assignment.processId#\\\",\\r\\n\\\"#assignment.activityName#\\\");\",\"jdbcDatasource\":\"default\"}},\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"tableName\":\"dgr_regis_license\"},\"elements\":[{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"id\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"jdbcDatasource\":\"default\",\"sql\":\"SELECT \\nc.c_drillLicenseNo\\n,c.c_wellNo\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_licenseNameReq\\n    ELSE a.c_drillLicenseeFullname\\nEND AS licenseNameReq\\n,c.c_licenseAddressNo\\n,c.c_licenseMoo\\n,c.c_licenseSoi\\n,c.c_licenseStreet\\n,c.c_licenseTambon\\n,c.c_licenseAmphoe\\n,c.c_licenseProvince\\n,c.c_licensePostalCode\\n,c.c_licensePhoneNumber\\n,c.c_wellAddressNo\\n,c.c_wellMoo\\n,c.c_wellSoi\\n,c.c_wellStreet\\n,c.c_wellTambon\\n,c.c_wellAmphoe\\n,c.c_wellProvince\\n,c.c_wellPostalCode\\n,c.c_comDrillerName\\n,c.c_comDrillerAddressNo\\n,c.c_comDrillerMoo\\n,c.c_comDrillerSoi\\n,c.c_comDrillerStreet\\n,c.c_comDrillerTambon\\n,c.c_comDrillerAmphoe\\n,c.c_comDrillerProvince\\n,c.c_comDrillerPostalCode\\n,c.c_comDrillerPhoneNumber\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_gwDrillerName\\n    ELSE b.c_gwDrillerName\\nEND AS gwDrillerName\\n,CASE\\n    WHEN c.id <> \\\"\\\" THEN c.c_gwDrillerID\\n    ELSE b.c_gwDrillerID\\nEND AS gwDrillerID\\n,c.c_gwDrillerAddressNo\\n,c.c_gwDrillerMoo\\n,c.c_gwDrillerSoi\\n,c.c_gwDrillerStreet\\n,c.c_gwDrillerTambon\\n,c.c_gwDrillerAmphoe\\n,c.c_gwDrillerProvince\\n,c.c_gwDrillerPostalCode\\n,c.c_gwDrillerPhoneNumber\\nFROM app_fd_dgr_regis_license AS a\\nINNER JOIN app_fd_dgr_date_drill AS b\\nON a.id = b.c_parentID\\nINNER JOIN app_fd_dgr_nbt345 AS c\\nON a.id = b.id\\nWHERE a.id = \\\"#process.recordId#\\\"\",\"autoHandleFiles\":\"\"}},\"formDefId\":\"reportNBT345\",\"noframe\":\"true\",\"subFormParentId\":\"\",\"id\":\"infoReportNBT345\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section5\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.plugin.enterprise.MultiPagedForm\",\"properties\":{\"prevButtonlabel\":\"Prev\",\"css\":\"\",\"storeMainFormOnPartiallyStore\":\"true\",\"nextButtonlabel\":\"Next\",\"partiallyStore\":\"\",\"id\":\"subReportNBT345\",\"onlyAllowSubmitOnLastPage\":\"\",\"numberOfPage\":{\"className\":\"3\",\"properties\":{\"page3_formDefId\":\"reportNBT5DrillerForNB1\",\"page3_validate\":\"\",\"page1_subFormParentId\":\"\",\"page3_label\":\"รายงานประวัติบ่อน้ำบาดาล\",\"page3_readonly\":\"\",\"page1_formDefId\":\"reportNBT3ForNB1\",\"page2_readonly\":\"\",\"page2_label\":\"รายงานการทดสอบปริมาณน้ำ\",\"page3_subFormParentId\":\"\",\"page1_validate\":\"\",\"page3_parentSubFormId\":\"id\",\"page3_readonlyLabel\":\"\",\"page1_readonly\":\"\",\"page2_parentSubFormId\":\"id\",\"page2_subFormParentId\":\"\",\"page1_label\":\"รายงานการปฏิบัติงานประจำวัน\",\"page1_readonlyLabel\":\"\",\"page1_parentSubFormId\":\"id\",\"page2_validate\":\"\",\"page2_formDefId\":\"reportNBT4DrillerForNB1\",\"page2_readonlyLabel\":\"\"}},\"displayMode\":\"wizard\",\"ajaxMode\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"รายงาน\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section1\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"id\":\"signatureReportNBT345\",\"label\":\"\",\"formDefId\":\"reportNBT345Signature\",\"readonly\":\"\",\"readonlyLabel\":\"\",\"noframe\":\"true\",\"parentSubFormId\":\"id\",\"subFormParentId\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"jdbcDatasource\":\"default\",\"sql\":\"SELECT \\r\\nc.c_licenseSignature\\r\\n,CASE\\r\\n    WHEN c.id <> \\\"\\\" THEN c.c_licenseName\\r\\n    ELSE a.c_drillLicenseeFullname\\r\\nEND AS licenseName\\r\\n,c.c_gwDrillerSignature\\r\\n,c.c_gwDrillerNameDis\\r\\n,c.c_geologistSignature\\r\\n,c.c_geologistName\\r\\nFROM app_fd_dgr_regis_license AS a\\r\\nINNER JOIN app_fd_dgr_date_drill AS b\\r\\nON a.id = b.c_parentID\\r\\nINNER JOIN app_fd_dgr_nbt345 AS c\\r\\nON a.id = b.id\\r\\nWHERE a.id = \\\"#process.recordId#\\\"\\r\\n\",\"autoHandleWorkflowVariable\":\"true\",\"autoHandleFiles\":\"\"}},\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}}}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section6\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.Radio\",\"properties\":{\"controlField\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"\",\"properties\":{}},\"options\":[{\"label\":\"เรียบร้อย\",\"value\":\"ไม่พบปัญหา\",\"grouping\":\"\"},{\"label\":\"ขอเจาะลึกลงไปเกินกว่าที่กำหนด\",\"value\":\"ขอเจาะลึกลงไปเกินกว่าที่กำหนด\",\"grouping\":\"\"}],\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"workflowVariable\":\"risk\",\"id\":\"risk\",\"label\":\"สถานะการดำเนินการเจาะบ่อน้ำบาดาล\",\"value\":\"\",\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"การดำเนินการเจาะบ่อน้ำบาดาล\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section2\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"status\",\"id\":\"status\",\"value\":\"Drill More\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"\",\"id\":\"remarks\",\"value\":\"ขอเจาะลึกลงไปเกินกว่าที่กำหนด\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"risk\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"ขอเจาะลึกลงไปเกินกว่าที่กำหนด\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section3\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"status\",\"id\":\"status\",\"value\":\"Drill successfully\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"\",\"id\":\"remarks\",\"value\":\"ช่างเจาะบ่อน้ำบาดาลดำเนินการเรียบร้อย\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"risk\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"ไม่พบปัญหา\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section4\",\"join\":\"\",\"readonlyLabel\":\"\"}}]}","dateModified":"2020-05-14 10:56:32"}
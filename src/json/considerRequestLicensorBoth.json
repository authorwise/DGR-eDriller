{"formId":"considerRequestLicensorBoth","name":"[นบ.1] พิจารณาคำขอใบอนุญาตเจาะน้ำบาดาลและใช้น้ำบาดาล","json":"{\"className\":\"org.joget.apps.form.model.Form\",\"properties\":{\"noPermissionMessage\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"name\":\"[นบ.1] พิจารณาคำขอใบอนุญาตเจาะน้ำบาดาลและใช้น้ำบาดาล\",\"description\":\"\",\"postProcessorRunOn\":\"both\",\"permission\":{\"className\":\"\",\"properties\":{}},\"id\":\"considerRequestLicensorBoth\",\"postProcessor\":{\"className\":\"org.joget.apps.app.lib.DatabaseUpdateTool\",\"properties\":{\"query\":\"INSERT INTO `app_fd_dgr_regis_license_a`\\r\\n(`id`,\\r\\n`dateCreated`,\\r\\n`dateModified`,\\r\\n`createdBy`,\\r\\n`createdByName`,\\r\\n`modifiedBy`,\\r\\n`modifiedByName`,\\r\\n`c_approver`,\\r\\n`c_approval_date`,\\r\\n`c_parent_id`,\\r\\n`c_remarks`,\\r\\n`c_status`,\\r\\n`c_activityID`,\\r\\n`c_activityDefID`,\\r\\n`c_processID`,\\r\\n`c_activityName`)\\r\\nVALUES\\r\\n(uuid(),\\r\\nnow(),\\r\\nnow(),\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\n\\\"#currentUser.fullName#\\\",\\r\\n\\\"#currentUser.username#\\\",\\r\\nnow(),\\r\\n\\\"#form.dgr_regis_license.id#\\\",\\r\\n\\\"#form.dgr_regis_license.remarks#\\\",\\r\\n\\\"#form.dgr_regis_license.status#\\\",\\r\\n\\\"#assignment.activityId#\\\",\\r\\n\\\"#assignment.activityDefId#\\\",\\r\\n\\\"#assignment.processId#\\\",\\r\\n\\\"#assignment.activityName#\\\");\",\"jdbcDatasource\":\"default\"}},\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"tableName\":\"dgr_regis_license\"},\"elements\":[{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"\",\"id\":\"considerWellState\",\"value\":\"\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"\",\"id\":\"considerWaterState\",\"value\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"jdbcDatasource\":\"default\",\"sql\":\"SELECT \\nCASE WHEN c_committeeWellStatus IN ('Approved', 'Rejected') THEN 'yes' \\nELSE 'no' END AS considerWellState\\n,CASE WHEN c_committeeWaterStatus IN ('Approved', 'Rejected') THEN 'yes' \\nELSE 'no' END AS considerWaterState\\nFROM jwdb.app_fd_dgr_regis_license \\nWHERE id = '#process.recordId#'\",\"autoHandleFiles\":\"\"}},\"comment\":\"\",\"id\":\"section6\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.plugin.enterprise.MultiPagedForm\",\"properties\":{\"prevButtonlabel\":\"Prev\",\"css\":\"\",\"storeMainFormOnPartiallyStore\":\"\",\"nextButtonlabel\":\"Next\",\"partiallyStore\":\"\",\"id\":\"checkInfoConsider2\",\"onlyAllowSubmitOnLastPage\":\"\",\"numberOfPage\":{\"className\":\"3\",\"properties\":{\"page3_formDefId\":\"inspectionRecordForReviewNB1\",\"page3_validate\":\"\",\"page1_subFormParentId\":\"\",\"page3_label\":\"ต.1 บันทึกการตรวจสอบ\",\"page3_readonly\":\"true\",\"page1_formDefId\":\"nb1Signature3ForReview\",\"page2_readonly\":\"true\",\"page2_label\":\"ข้อมูลสำหรับการพิจารณา\",\"page3_subFormParentId\":\"\",\"page1_validate\":\"\",\"page3_parentSubFormId\":\"id\",\"page3_readonlyLabel\":\"\",\"page1_readonly\":\"true\",\"page2_parentSubFormId\":\"id\",\"page2_subFormParentId\":\"\",\"page1_label\":\"นบ.1 คำขอรับใบอนุญาตเจาะน้ำบาดาลหรือใช้น้ำบาดาล\",\"page1_readonlyLabel\":\"\",\"page1_parentSubFormId\":\"id\",\"page2_validate\":\"\",\"page2_formDefId\":\"considerReview\",\"page2_readonlyLabel\":\"\"}},\"displayMode\":\"tab\",\"ajaxMode\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"considerWellState;considerWaterState\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"ข้อมูลคำขอใบอนุญาตและข้อมูลสำหรับการพิจารณา\",\"reverse\":\";\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"no;no\",\"regex\":\";\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section3_1\",\"join\":\";\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.plugin.enterprise.MultiPagedForm\",\"properties\":{\"prevButtonlabel\":\"Prev\",\"css\":\"\",\"storeMainFormOnPartiallyStore\":\"\",\"nextButtonlabel\":\"Next\",\"partiallyStore\":\"\",\"id\":\"checkInfoConsider\",\"onlyAllowSubmitOnLastPage\":\"\",\"numberOfPage\":{\"className\":\"4\",\"properties\":{\"page3_validate\":\"\",\"page4_formDefId\":\"committeeResolution\",\"page2_readonly\":\"true\",\"page2_label\":\"ข้อมูลสำหรับการพิจารณา\",\"page3_subFormParentId\":\"\",\"page3_parentSubFormId\":\"id\",\"page2_subFormParentId\":\"\",\"page1_parentSubFormId\":\"id\",\"page4_readonlyLabel\":\"\",\"page2_readonlyLabel\":\"\",\"page3_formDefId\":\"inspectionRecordForReviewNB1\",\"page1_subFormParentId\":\"\",\"page3_label\":\"ต.1 บันทึกการตรวจสอบ\",\"page3_readonly\":\"true\",\"page4_subFormParentId\":\"\",\"page4_parentSubFormId\":\"id\",\"page1_formDefId\":\"nb1Signature3ForReview\",\"page4_validate\":\"\",\"page1_validate\":\"\",\"page3_readonlyLabel\":\"\",\"page1_readonly\":\"true\",\"page4_readonly\":\"true\",\"page2_parentSubFormId\":\"id\",\"page1_label\":\"นบ.1 คำขอรับใบอนุญาตเจาะน้ำบาดาลหรือใช้น้ำบาดาล\",\"page1_readonlyLabel\":\"\",\"page2_validate\":\"\",\"page4_label\":\"มติคณะอนุกรรมการ\",\"page2_formDefId\":\"considerReview\"}},\"displayMode\":\"tab\",\"ajaxMode\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"considerWellState;considerWaterState\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"ข้อมูลคำขอใบอนุญาตและข้อมูลสำหรับการพิจารณา\",\"reverse\":\";\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"yes;yes\",\"regex\":\";\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section3\",\"join\":\";or\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.Radio\",\"properties\":{\"controlField\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"\",\"properties\":{}},\"options\":[{\"label\":\"พิจารณาคำขอใบอนุญาต\",\"value\":\"Consider license\",\"grouping\":\"\"},{\"label\":\"#envVariable.moreInfoText#\",\"value\":\"#envVariable.moreInfo#\",\"grouping\":\"\"}],\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"workflowVariable\":\"status\",\"id\":\"status\",\"label\":\"พิจารณาคำขอใบอนุญาตเจาะน้ำบาดาลและใช้น้ำบาดาล\",\"value\":\"\",\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"id\":\"section1\",\"label\":\"พิจารณาออกใบอนุญาต\",\"readonly\":\"\",\"readonlyLabel\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"join\":\";or\",\"reverse\":\";\",\"visibilityControl\":\"considerWellState;considerWaterState\",\"visibilityValue\":\"no;no\",\"regex\":\";\",\"permission\":{\"className\":\"\",\"properties\":{}},\"permissionReadonly\":\"\",\"comment\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"status\",\"id\":\"status\",\"value\":\"Consider license\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"considerWellState;considerWaterState\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"พิจารณาออกใบอนุญาต\",\"reverse\":\";\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"yes;yes\",\"regex\":\";\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section8\",\"join\":\";\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.Radio\",\"properties\":{\"controlField\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"\",\"properties\":{}},\"options\":[{\"label\":\"อนุญาต\",\"value\":\"Approved\",\"grouping\":\"\"},{\"label\":\"ไม่อนุญาต\",\"value\":\"Rejected\",\"grouping\":\"\"}],\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"workflowVariable\":\"wellStatus\",\"label\":\"ผลพิจารณาคำขออนุญาตเจาะน้ำบาดาล\",\"id\":\"wellStatus\",\"value\":\"\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.Radio\",\"properties\":{\"controlField\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"\",\"properties\":{}},\"options\":[{\"label\":\"อนุญาต\",\"value\":\"Approved\",\"grouping\":\"\"},{\"label\":\"ไม่อนุญาต\",\"value\":\"Rejected\",\"grouping\":\"\"}],\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"workflowVariable\":\"waterStatus\",\"id\":\"waterStatus\",\"label\":\"ผลพิจารณาคำขออนุญาตใช้น้ำบาดาล\",\"value\":\"\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"formDefId\":\"allowedConsider\",\"noframe\":\"\",\"subFormParentId\":\"parentID\",\"id\":\"subAllowed\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"true\",\"workflowVariable\":\"\",\"id\":\"wellLicensor\",\"value\":\"#currentUser.username#\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"true\",\"workflowVariable\":\"\",\"id\":\"waterLicensor\",\"value\":\"#currentUser.username#\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"true\",\"workflowVariable\":\"\",\"id\":\"wellLicensorName\",\"value\":\"#currentUser.fullName#\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"true\",\"workflowVariable\":\"\",\"id\":\"waterLicensorName\",\"value\":\"#currentUser.fullName#\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"\",\"id\":\"wellLicensorSignature\",\"value\":\"\\/jw\\/web\\/client\\/app\\/jusermgnt6\\/3\\/form\\/download\\/setupUserAdditonal\\/#currentUser.username#\\/#form.user_additional.userSignature[{currentUser.username}]#.\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"workflowVariable\":\"\",\"id\":\"waterLicensorSignature\",\"value\":\"\\/jw\\/web\\/client\\/app\\/jusermgnt6\\/3\\/form\\/download\\/setupUserAdditonal\\/#currentUser.username#\\/#form.user_additional.userSignature[{currentUser.username}]#.\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"horizontal\":\"\",\"customWidth\":\"\",\"width\":\"100%\",\"label\":\"\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"status\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"Consider license\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"sectionConsider\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.TextArea\",\"properties\":{\"readonly\":\"\",\"validator\":{\"className\":\"\",\"properties\":{}},\"workflowVariable\":\"\",\"id\":\"remarks\",\"label\":\"หมายเหตุ\",\"placeholder\":\"\",\"rows\":\"5\",\"value\":\"\",\"cols\":\"20\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.CustomHTML\",\"properties\":{\"autoPopulate\":\"\",\"id\":\"htmlScript\",\"label\":\"\",\"value\":\"<script>\\r\\n    $(document).ready(function() {\\r\\n        var comment = $(\\\"textarea[name$='remarks']\\\").val(\\\"\\\");\\r\\n    });  \\r\\n<\\/script>\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section9\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"subQuestion\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"formDefId\":\"question\",\"noframe\":\"\",\"subFormParentId\":\"parentID\",\"id\":\"subQuestion\",\"label\":\"#envVariable.moreInfoText#\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"status\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"#envVariable.moreInfo#\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section5\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.SubForm\",\"properties\":{\"parentSubFormId\":\"\",\"permissionHidden\":\"\",\"readonly\":\"true\",\"loadBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"formDefId\":\"trailForConsiderNB1\",\"noframe\":\"true\",\"subFormParentId\":\"\",\"id\":\"trail\",\"label\":\"\",\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"readonlyLabel\":\"true\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"elementUniqueKey\":\"5025\",\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"readonly\":\"\",\"elementUniqueKey\":\"5021\",\"comment\":\"\",\"id\":\"section2_1\",\"join\":\"\",\"readonlyLabel\":\"\"}}]}","dateModified":"2020-05-14 10:56:24"}
{"formId":"editLicenseGWSubAddress","name":"นบ./21 คำขอแก้ไขใบอนุญาต (ส่วนข้อมูลที่อยู่)","json":"{\"className\":\"org.joget.apps.form.model.Form\",\"properties\":{\"noPermissionMessage\":\"\",\"loadBinder\":{\"className\":\"org.joget.tutorial.JdbcLoadBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"jdbcDatasource\":\"default\",\"sql\":\"SELECT \\nc_addressNo AS addressNo\\n,c_moo AS moo\\n,c_soi AS soi\\n,c_street AS street\\n,c_tambon AS tambon\\n,c_amphoe AS amphoe\\n,c_province AS province\\n,c_provinceID AS provinceID\\n,c_amphoeID AS amphoeID\\n,c_tambonID AS tambonID\\n,c_postalCode AS postalCode\\nFROM app_fd_dgr_well \\nWHERE c_requestNo = ?\",\"autoHandleFiles\":\"\"}},\"permission_rules\":[],\"name\":\"นบ.\\/21 คำขอแก้ไขใบอนุญาต (ส่วนข้อมูลที่อยู่)\",\"description\":\"\",\"postProcessorRunOn\":\"create\",\"permission\":{\"className\":\"\",\"properties\":{}},\"id\":\"editLicenseGWSubAddress\",\"postProcessor\":{\"className\":\"\",\"properties\":{}},\"storeBinder\":{\"className\":\"org.joget.apps.form.lib.WorkflowFormBinder\",\"properties\":{}},\"tableName\":\"dgr_revision_license\"},\"elements\":[{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.TextField\",\"properties\":{\"maxlength\":\"\",\"permission_rules\":{},\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"label\":\"ที่อยู่-เลขที่\",\"encryption\":\"\",\"size\":\"\",\"readonly\":\"\",\"workflowVariable\":\"\",\"style\":\"\",\"id\":\"addressNo\",\"placeholder\":\"\",\"value\":\"\",\"readonlyLabel\":\"\",\"storeNumeric\":\"\"}},{\"className\":\"org.joget.apps.form.lib.TextField\",\"properties\":{\"maxlength\":\"\",\"permission_rules\":{},\"validator\":{\"className\":\"\",\"properties\":{}},\"label\":\"ตรอก \\/ ซอย\",\"encryption\":\"\",\"size\":\"\",\"readonly\":\"\",\"workflowVariable\":\"\",\"style\":\"\",\"id\":\"soi\",\"placeholder\":\"\",\"value\":\"\",\"readonlyLabel\":\"\",\"storeNumeric\":\"\"}},{\"className\":\"org.joget.apps.form.lib.SelectBox\",\"properties\":{\"controlField\":\"\",\"permission_rules\":{},\"multiple\":\"\",\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"label\":\"จังหวัด\",\"size\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"org.joget.apps.form.lib.FormOptionsBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"addEmptyOption\":\"true\",\"groupingColumn\":\"\",\"useAjax\":\"\",\"formDefId\":\"mtProvince\",\"labelColumn\":\"provinceThai\",\"extraCondition\":\"\",\"cacheInterval\":\"\",\"emptyLabel\":\"-- กรุณาเลือก --\",\"idColumn\":\"provinceID\",\"autoHandleFiles\":\"\"}},\"options\":[],\"workflowVariable\":\"provinceID\",\"id\":\"provinceID\",\"value\":\"\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.SelectBox\",\"properties\":{\"controlField\":\"amphoeID\",\"permission_rules\":{},\"multiple\":\"\",\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"label\":\"แขวง \\/ ตำบล\",\"size\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"org.joget.apps.form.lib.FormOptionsBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"addEmptyOption\":\"true\",\"groupingColumn\":\"amphoeID\",\"useAjax\":\"true\",\"formDefId\":\"mtTambon\",\"labelColumn\":\"tambonShortName\",\"extraCondition\":\"\",\"cacheInterval\":\"\",\"emptyLabel\":\"-- กรุณาเลือก --\",\"idColumn\":\"tambonID\",\"autoHandleFiles\":\"\"}},\"options\":[],\"workflowVariable\":\"\",\"id\":\"tambonID\",\"value\":\"\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.SelectBox\",\"properties\":{\"controlField\":\"tambonID\",\"permission_rules\":{},\"multiple\":\"\",\"validator\":{\"className\":\"\",\"properties\":{}},\"label\":\"รหัสไปรษณีย์\",\"size\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"org.joget.apps.form.lib.FormOptionsBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"addEmptyOption\":\"true\",\"groupingColumn\":\"tambonID\",\"useAjax\":\"true\",\"formDefId\":\"mtTambon\",\"labelColumn\":\"postalCode\",\"extraCondition\":\"\",\"cacheInterval\":\"\",\"emptyLabel\":\"-- กรุณาเลือก --\",\"idColumn\":\"postalCode\",\"autoHandleFiles\":\"\"}},\"options\":[],\"workflowVariable\":\"\",\"id\":\"postalCode\",\"value\":\"\",\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"49%\"}},{\"elements\":[{\"className\":\"org.joget.apps.form.lib.TextField\",\"properties\":{\"maxlength\":\"\",\"permission_rules\":{},\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"label\":\"หมู่ที่\",\"encryption\":\"\",\"size\":\"\",\"readonly\":\"\",\"workflowVariable\":\"\",\"style\":\"\",\"id\":\"moo\",\"placeholder\":\"\",\"value\":\"\",\"readonlyLabel\":\"\",\"storeNumeric\":\"\"}},{\"className\":\"org.joget.apps.form.lib.TextField\",\"properties\":{\"maxlength\":\"\",\"permission_rules\":{},\"validator\":{\"className\":\"\",\"properties\":{}},\"label\":\"ถนน\",\"encryption\":\"\",\"size\":\"\",\"readonly\":\"\",\"workflowVariable\":\"\",\"style\":\"\",\"id\":\"street\",\"placeholder\":\"\",\"value\":\"\",\"readonlyLabel\":\"\",\"storeNumeric\":\"\"}},{\"className\":\"org.joget.apps.form.lib.SelectBox\",\"properties\":{\"controlField\":\"provinceID\",\"permission_rules\":{},\"multiple\":\"\",\"validator\":{\"className\":\"org.joget.apps.form.lib.DefaultValidator\",\"properties\":{\"type\":\"\",\"message\":\"\",\"mandatory\":\"true\"}},\"label\":\"เขต \\/ อำเภอ\",\"size\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"org.joget.apps.form.lib.FormOptionsBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"addEmptyOption\":\"true\",\"groupingColumn\":\"provinceID\",\"useAjax\":\"true\",\"formDefId\":\"mtAmphur\",\"labelColumn\":\"amphoeThaiShort\",\"extraCondition\":\"\",\"cacheInterval\":\"\",\"emptyLabel\":\"-- กรุณาเลือก --\",\"idColumn\":\"amphoeID\",\"autoHandleFiles\":\"\"}},\"options\":[],\"workflowVariable\":\"\",\"id\":\"amphoeID\",\"value\":\"\",\"readonlyLabel\":\"\"}},{\"className\":\"org.joget.apps.form.lib.SelectBox\",\"properties\":{\"controlField\":\"tambonID\",\"permission_rules\":{},\"multiple\":\"\",\"validator\":{\"className\":\"\",\"properties\":{}},\"label\":\"เขตการปกครองส่วนท้องถิ่น\",\"size\":\"\",\"readonly\":\"\",\"optionsBinder\":{\"className\":\"org.joget.apps.form.lib.FormOptionsBinder\",\"properties\":{\"autoHandleWorkflowVariable\":\"true\",\"addEmptyOption\":\"true\",\"groupingColumn\":\"tambonID\",\"useAjax\":\"true\",\"formDefId\":\"mtTambon\",\"labelColumn\":\"localFullName\",\"extraCondition\":\"\",\"cacheInterval\":\"\",\"emptyLabel\":\"-- กรุณาเลือก --\",\"idColumn\":\"localID\",\"autoHandleFiles\":\"\"}},\"options\":[],\"workflowVariable\":\"\",\"id\":\"localID\",\"value\":\"\",\"readonlyLabel\":\"\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"49%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission_rules\":{},\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section2\",\"join\":\"\",\"readonlyLabel\":\"\"}},{\"elements\":[{\"elements\":[{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"permission_rules\":{},\"workflowVariable\":\"\",\"id\":\"province\",\"value\":\"\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"permission_rules\":{},\"workflowVariable\":\"\",\"id\":\"amphoe\",\"value\":\"\"}},{\"className\":\"org.joget.apps.form.lib.HiddenField\",\"properties\":{\"useDefaultWhenEmpty\":\"\",\"permission_rules\":{},\"workflowVariable\":\"\",\"id\":\"tambon\",\"value\":\"\"}},{\"className\":\"org.joget.apps.form.lib.CustomHTML\",\"properties\":{\"autoPopulate\":\"\",\"permission_rules\":{},\"id\":\"codeUpdateLabel\",\"label\":\"\",\"value\":\"<script>\\r\\n    var label = '';\\r\\n    var provinceID = 'provinceID';\\r\\n    var amphoeID = 'amphoeID';\\r\\n    var tambonID = 'tambonID';\\r\\n    var localID = 'localID';\\r\\n    var province = 'province';\\r\\n    var amphoe = 'amphoe';\\r\\n    var tambon = 'tambon';\\r\\n\\r\\n    $(document).ready(function(){\\r\\n        var newval =  $('select[name$=\\\"'+provinceID+'\\\"]').val();\\r\\n        if(newval !== \\\"\\\"){\\r\\n            label = $('select[name$=\\\"'+provinceID+'\\\"]').find('option[value=\\\"'+newval+'\\\"]').html();\\r\\n            $('input[name$=\\\"'+province+'\\\"]').val(label);\\r\\n            if(newval == \\\"1\\\"){\\r\\n                $('select[name$=\\\"'+localID+'\\\"]').hide();\\r\\n                $('label[for*=\\\"'+localID+'\\\"]').hide();\\r\\n            }else{\\r\\n                $('select[name$=\\\"'+localID+'\\\"]').show();\\r\\n                $('label[for*=\\\"'+localID+'\\\"]').show();\\r\\n            }\\r\\n        }\\r\\n      \\r\\n        $('select[name$=\\\"'+provinceID+'\\\"]').on('change',function(){\\r\\n            getLabelBySelectBox(province,this);\\r\\n\\r\\n            var province_val = $(this).val();\\r\\n            if(province_val == \\\"1\\\"){\\r\\n                $('select[name$=\\\"'+localID+'\\\"]').hide();\\r\\n                $('label[for*=\\\"'+localID+'\\\"]').hide();\\r\\n            }else{\\r\\n                $('select[name$=\\\"'+localID+'\\\"]').show();\\r\\n                $('label[for*=\\\"'+localID+'\\\"]').show();\\r\\n            }\\r\\n        });\\r\\n        $('select[name$=\\\"'+amphoeID+'\\\"]').on('change',function(){\\r\\n            getLabelBySelectBox(amphoe,this);\\r\\n        });\\r\\n        $('select[name$=\\\"'+tambonID+'\\\"]').on('change',function(){\\r\\n            getLabelBySelectBox(tambon,this);\\r\\n        });\\r\\n    \\r\\n    });\\r\\n\\r\\n    function getLabelBySelectBox(nameElm,_this){\\r\\n        var newval = $(_this).val();\\r\\n        label = $(_this).find('option[value=\\\"'+newval+'\\\"]').html();\\r\\n        $('input[name$=\\\"'+nameElm+'\\\"]').val(label);\\r\\n        return;\\r\\n    }\\r\\n\\r\\n<\\/script>\"}}],\"className\":\"org.joget.apps.form.model.Column\",\"properties\":{\"width\":\"100%\"}}],\"className\":\"org.joget.apps.form.model.Section\",\"properties\":{\"visibilityControl\":\"\",\"permissionReadonly\":\"\",\"permission_rules\":{},\"permission\":{\"className\":\"\",\"properties\":{}},\"label\":\"\",\"reverse\":\"\",\"storeBinder\":{\"className\":\"\",\"properties\":{}},\"visibilityValue\":\"\",\"regex\":\"\",\"readonly\":\"\",\"loadBinder\":{\"className\":\"\",\"properties\":{}},\"comment\":\"\",\"id\":\"section5\",\"join\":\"\",\"readonlyLabel\":\"\"}}]}","dateModified":"2020-05-25 19:03:45"}
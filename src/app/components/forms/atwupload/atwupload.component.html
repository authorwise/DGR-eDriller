<div
  class="clearfix"
  [className]="isError?.invalid ? 'atw-upload-invalid' : ''"
  [formGroup]="validateForm"
>
  <nz-upload
    nzListType="picture-card"
    [(nzFileList)]="fileList"
    [nzShowButton]="fileList.length < isMulti"
    [nzName]="formId"
    [nzRemove]="removeUpload"
    [nzPreview]="handlePreview"
    [nzBeforeUpload]="beforeUpload"
    (nzChange)="handleChange($event)"
  >
    <i
      nz-icon
      [className]="isError?.invalid ? ' danger-txt' : ''"
      nzType="plus"
    ></i>
    <div
      [className]="'ant-upload-text' + (isError?.invalid ? ' danger-txt' : '')"
    >
      แนบไฟล์
    </div>
  </nz-upload>
  <nz-modal
    [nzVisible]="previewVisible"
    [nzContent]="modalContent"
    [nzFooter]="null"
    (nzOnCancel)="previewVisible = false"
  >
    <ng-template #modalContent>
      <img [src]="previewImage" [ngStyle]="{ width: '100%' }" />
    </ng-template>
  </nz-modal>
  <span *ngIf="isError?.invalid" class="danger-txt">
    กรุณาเพิ่มเอกสาร {{ properties.label }}
  </span>
</div>
